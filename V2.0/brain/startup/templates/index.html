<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Bibli control panel">
    <meta name="author" content="Wei Miao and Qi LIU">
    <title>BiBli Control Center</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/layoutstyle.css') }}" />
    <script src="{{ url_for('static', filename='js/jquery-2.1.4.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bibli-control.js') }}"></script>
    <!--Path for local test without flask
    <link rel="stylesheet" type="text/css" href="css/layoutstyle.css" />
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="js/bibli-control.js"></script>
    -->
</head>

<body>
    <div id="container">
        <div id="navbar"></div>
        <div id="navigation">
            <div class="camera">
                <img id="vdostream" src="{{ url_for('video_feed') }}" alt="Video stream off"><br>
                <script language="javascript" type="text/javascript">
                function vdo_stm(vds) {
                    var vdsm = document.getElementById("vdostream");
                    if (vds == 1) {
                        vdsm.src = "{{ url_for('video_feed') }}";
                    } else if (vds == 0) {
                        vdsm.src = "{{ url_for('static', filename='img/bg2.jpg') }}";
                        //vdsm.src = "img/bg2.jpg";
                    }
                }

                function Button_desktop(dstp) {
                    $.ajax({
                        url: '/desktop/' + dstp
                    });
                }
                </script>                
                <input id="streamON" class="switch_btn" type="button" value="CameraON" onclick="vdo_stm(1)" />
                <input id="streamOFF" class="switch_btn" type="button" value="CameraOFF" onclick="vdo_stm(0)" />
                <input id="showdesktop" class="switch_btn" type="button" value="ShowLogo" onclick="Button_desktop('show')" />
            </div>
            <div class="control">
                <h3 align="center">BiBli Navigation Center</h3>
                <table id="drive_table">
                    <!--
                    <tr>
                        <td colspan="3" style="text-align: center">
                            <p>Control</p>
                        </td>
                        <td colspan="2" style="text-align: center">
                            </p>Auto-pilot</p>
                        </td>
                    </tr>
                    -->
                    <tr>
                        <td style="text-align: center">
                            
                        </td>
                        <td style="text-align: center">
                            <input id="btnUp" class="control_btn" type="button" value="Forward" accesskey="w" onclick="Button_onclick('f')" />
                        </td>
                        <td style="text-align: center">
                            
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: center">
                            <input id="btnLeft" class="control_btn" type="button" value="Left" accesskey="a" onclick="Button_onclick('l')" />
                        </td>
                        <td style="text-align: center">
                            <input id="btnCtr" class="control_btn" type="button" value="Stop" accesskey="e" onclick="Button_onclick('s')" />
                        </td>
                        <td style="text-align: center">
                            <input id="btnRight" class="control_btn" type="button" value="Right" accesskey="d" onclick="Button_onclick('r')" />
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: center">
                            
                        </td>
                        <td style="text-align: center">
                            <input id="btnDown" class="control_btn" type="button" value="Back" accesskey="s" onclick="Button_onclick('b')" />
                        </td>
                        <td style="text-align: center">
                            
                        </td>
                    </tr>
                    <tr> 
                        <td style="text-align: center"> </td> 
                        <td style="text-align: center"> </td>
                        <td style="text-align: center"> </td>
                    </tr>
                    <tr> 
                        <td style="text-align: center"> </td> 
                        <td style="text-align: center"> </td>
                        <td style="text-align: center"> </td>
                    </tr>
                    <tr> 
                        <td style="text-align: center"> </td> 
                        <td style="text-align: center"> </td>
                        <td style="text-align: center"> </td>
                    </tr>
                    <tr> 
                        <td style="text-align: center"> </td> 
                        <td style="text-align: center"> </td>
                        <td style="text-align: center"> </td>
                    </tr>
                    <tr>
                        <td style="text-align: center">
                            <input id="btnFwd" class="control_btn" type="button" value="SelfDrive" accesskey="v" onclick="Button_onclick('v')" />
                        </td>
                        <td style="text-align: center">
                            <input id="btnFwd" class="control_btn" type="button" value="Demo" accesskey="v" onclick="Button_onclick('x')" />
                        </td>
                        <td style="text-align: center">
                            <input id="btnRev" class="media_btn" type="button" value="MelodyON" onclick="Button_music('mon')" />
                        </td>
                        <td style="text-align: center">
                            <input id="btnRev" class="media_btn" type="button" value="MelodyOFF" onclick="Button_music('moff')" />
                        </td>
                    </tr>
                </table>
                <!--
                <br> Keyboard Control:
                <input id="keyctrl" class="switch_btn" type="button" , value="KeyOn" />
                -->
                <!--
                <script language="javascript" type="text/javascript">
                var keyevent = [99, 99];
                $("#keyctrl").keydown(function(event) {

                    keyevent[0] = keyevent[1];
                    keyevent[1] = event.which;
                    //console.log(keyevent);
                    if (keyevent[0] != keyevent[1]) {
                        //console.log('different');
                        if (event.which == 87) {
                            Button_onclick('f')
                        } else if (event.which == 65) {
                            Button_onclick('l')
                        } else if (event.which == 68) {
                            Button_onclick('r')
                        } else if (event.which == 83) {
                            Button_onclick('b')
                        } else if (event.which == 69) {
                            Button_onclick('s')
                        } else if (event.which == 86) {
                            Button_onclick('v')
                        }
                    }
                });
                $("#keyctrl").keyup(function(event) {
                    keyevent = [99, 99];
                    if (event.which == 87) {
                        Button_onclick('s')
                    } else if (event.which == 65) {
                        Button_onclick('s')
                    } else if (event.which == 68) {
                        Button_onclick('s')
                    } else if (event.which == 83) {
                        Button_onclick('s')
                    } else if (event.which == 69) {
                        Button_onclick('s')
                    } else if (event.which == 86) {
                        Button_onclick('v')
                    }

                });
                </script>
                -->
            </div>
        </div>
        <div id="mediacenter">
            <br>
            <h3>BiBli Media Center</h3>
            Type any text to have Bibli speak:<br>
            <input id="Biblisay" type="text" name="saytext" size="50" />
            <input id="btnmsg" class="switch_btn" type="button" value="Speak" onclick="Button_saysth()" />
            <br>
            <table id="media_table">
                <tr>
                    <td style="text-align: center">
                        <input id="btnvcmd" class="media_btn" type="button" value="VoiceCmdON" onclick="Button_jasper('jON')" />
                    </td>
                    <td style="text-align: center">
                        <input id="btnMRight" class="media_btn" type="button" value="VoiceCmdOFF" onclick="Button_jasper('jOFF')" />
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center">
                        <input id="btnMLeft" class="media_btn" type="button" value="PreCamON" onclick="Button_movie('p')" />
                    </td>
                    <td style="text-align: center">
                        <input id="btnMRight" class="media_btn" type="button" value="PreCamOFF" onclick="Button_movie('o')" />
                    </td>
                </tr>
                <!--
                <tr>
                    <td style="text-align: center">
                        <input id="btnRev" class="media_btn" type="button" value="RoamMusON" onclick="Button_music('mon')" />
                    </td>
                    <td style="text-align: center">
                        <input id="btnRev" class="media_btn" type="button" value="RoamMusOFF" onclick="Button_music('moff')" />
                    </td>
                </tr>
                -->
                <tr>
                    <td colspan="3">
                        <form role="form">
                            <div class="form-group">
                                <label for="sound_s">Videos:</label>
                                <select class="form-control" id="video_sl" onChange="checkVtxt();">
                                    <option>--select one to play--</option>
                                    <option>backkom1.mp4</option>
                                    <option>backkom2.mp4</option>
                                    <option>backkom3.mp4</option>
                                    <option>backkom4.mp4</option>
                                    <option>backkom5.mp4</option>
                                    <option>backkom6.mp4</option>
                                    <option>backkom7.mp4</option>
                                </select>
                            </div>
                        </form>
                    </td>
                    <td>
                        <input id="von" class="switch_btn" type="button" value="Pause" onclick="Button_video('pause')" />
                        <input id="voff" class="switch_btn" type="button" value="Stop" onclick="Button_video('stp')" />
                    </td>
                    <tr>
                        <td colspan="3">
                            <form role="form">
                                <div class="form-group">
                                    <label for="sound_s">Music Pod:</label>
                                    <select class="form-control" id="sound_sl" onChange="checkMtxt();">
                                        <option>--select one to play--</option>
                                        <option>train.mp3</option>
                                        <option>Big_Big_World.mp3</option>
                                        <option>Roar.mp3</option>
                                        <option>Trouble_Is_A_Friend.mp3</option>
                                        <option>CalmBibli.mp3</option>
                                        <option>RockerBibli.mp3</option>
                                        <option>train.mp3</option>
                                    </select>
                                </div>
                            </form>
                        </td>
                        <td>
                            <input id="musicon" class="switch_btn" type="button" value="Pause" onclick="Button_sound('pause')" />
                            <input id="musicoff" class="switch_btn" type="button" value="Stop" onclick="Button_sound('stp')" />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <form role="form">
                                <div class="form-group">
                                    <label for="story_s">Story Book:</label>
                                    <select class="form-control" id="story_sl" onChange="checkStxt();">
                                        <option>--select one to play--</option>
                                        <option>Nightingale.mp3</option>
                                        <option>The_Mermaid_Princess.mp3</option>
                                        <option>The_Unwise_Hans.mp3</option>
                                        <option>The_Hen_and_the_Little_Girl.mp3</option>
                                        <option>The_Shadow.mp3</option>
                                    </select>
                                </div>
                            </form>
                        </td>
                        <td>
                            <input id="musicon" class="switch_btn" type="button" value="Pause" onclick="Button_story('pause')" />
                            <input id="musicoff" class="switch_btn" type="button" value="Stop" onclick="Button_story('stp')" />
                        </td>
                    </tr>
            </table>
        </div>
    </div>
</body>
